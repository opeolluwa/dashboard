import{d as I,I as S,a5 as N,_ as $,r as i,o as n,y as u,g as V,z as D,e as o,f as h,t as g,j as w,v as C,a as q,B as z,S as j,D as M,E as v,A as R,c as p,H as y,F as A,G,p as H,k as O}from"./index.430f0fbb.js";import{A as P}from"./AppEmptyState.9b4226d7.js";import{u as k}from"./tasks.e76ed17a.js";import{A as J}from"./AppNetworkError.550ad12a.js";let m=!0;const K=I({name:"AppTodoItem",components:{Icon:S,AppListItem:N},data:()=>({}),props:{todo:{type:Object,required:!0,default:()=>({title:"Todo title",description:"Todo description"})}},computed:{isSelected(){return m},priority(){const e=this.todo.priority.toLowerCase().trim();return e==="urgent"?"todo__item--urgent":e==="delicate"?"todo__item--delicate":e==="not-urgent"?"todo__item--not__urgent":e==="important"?"todo__item--important":"todo__item--normal"}},mounted(){const e=document.getElementsByClassName("todo__item"),t=1300;for(const s of e)s.addEventListener("mousedown",function(r){setTimeout(d,t);function d(){m=!1,console.log("long press ",m),s.classList.add("is__selected")}}),s.addEventListener("mouseup",function(r){setTimeout(d,t);function d(){console.log("long press"),s.classList.add("is__selected")}})}});const Q={class:"todo__item"},U={class:"todo__item__header__actions__delete"},W={class:"todo__item__header trim__text"},X={class:"todo__item__header__title"},Y={class:"todo__item__content"},Z={class:"trim__text"};function x(e,t,s,r,d,L){const a=i("Icon"),c=i("AppListItem");return n(),u(c,{class:D(e.priority)},{default:V(()=>[o("div",Q,[o("div",U,[h(a,{icon:"mdi:close-circle-outline",onClick:t[0]||(t[0]=_=>e.$emit("delete-todo"))})]),o("div",null,[o("div",W,[o("div",X,[o("h3",null,g(e.todo.title),1)])]),o("div",Y,[o("p",Z,g(e.todo.description),1)])]),w(o("div",{class:"todo__item__header__actions",onClick:t[1]||(t[1]=_=>e.$emit("show-options"))},[h(a,{icon:"mdi:dots-vertical",class:"d-none"})],512),[[C,e.isSelected]])])]),_:1},8,["class"])}const ee=$(K,[["render",x],["__scopeId","data-v-b56cd120"]]),oe=I({name:"TodoView",components:{BaseButton:q,Icon:S,BaseTextInput:z,AppEmptyState:P,AppTodoItem:ee,AppNetworkError:J,Spinner:j},data:()=>({showTodoModal:!1,todo:{title:"",description:"",date:"",priority:""}}),mounted(){console.log("mounted")},created(){this.makeTodoRequest(),console.log("created hook")},methods:{...M(k,{makeTodoRequest:"fetchAllTodo",createTodo:"createTodo",deleteTodo:"deleteTodo"}),async makeCreateTodo(){this.createTodo({...this.todo}),this.showTodoModal=!1},editTodo(e){this.$router.push({name:"edit-todo",params:{noteId:String(e)}})}},computed:{...v(k,["todoArray","isLoading","isFetchingTodoArray","errorFetchingTodo"]),...v(R,{bearerToken:"authorizationToken"}),disabledState(){return this.isLoading===!0}}});const te=e=>(H("data-v-6e5a26aa"),e=e(),O(),e),se={class:"fetching__todo"},ne=te(()=>o("p",null,"fetching tasks",-1)),de={key:1};function ie(e,t,s,r,d,L){var T,f;const a=i("Spinner"),c=i("AppEmptyState"),_=i("AppTodoItem");return n(),p(A,null,[w(o("div",se,[h(a),ne],512),[[C,e.isFetchingTodoArray]]),((T=e.todoArray)==null?void 0:T.length)==0?(n(),u(c,{key:0})):y("",!0),Number((f=e.todoArray)==null?void 0:f.length)>0&&!e.isFetchingTodoArray?(n(),p("div",de,[(n(!0),p(A,null,G(e.todoArray,({title:B,description:E,id:l,priority:b})=>(n(),u(_,{todo:{title:B,description:E,id:l,priority:b},onDeleteTodo:F=>e.deleteTodo(l),onClick:F=>e.editTodo(l)},null,8,["todo","onDeleteTodo","onClick"]))),256))])):y("",!0)],64)}const le=$(oe,[["render",ie],["__scopeId","data-v-6e5a26aa"]]);export{le as default};
