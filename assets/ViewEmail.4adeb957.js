import{d,I as c,m as _,h,_ as p,r as n,o as a,c as u,a as t,f,t as i,g as o,n as y,b as E}from"./index.e76f23a9.js";import{u as m}from"./emails.93522249.js";import{A as S}from"./AppNetworkError.ad9924f5.js";const I=d({name:"ViewEmail",components:{AppNetworkError:S,Icon:c},data:()=>({fetchedEmail:{}}),mounted(){this.$watch(()=>this.$route.params,()=>{this.fetchEmailRequest()},{immediate:!0})},methods:{..._(m,["toggleStar","fetchById"]),async fetchEmailRequest(){this.email||(this.fetchedEmail=await this.fetchById(this.emailId.toString()))}},computed:{...h(m,["getEmailById"]),emailId(){return this.$route.params.emailId},email(){return this.getEmailById(String(this.emailId))||this.fetchedEmail},dateSent(){return new Date(this.email.dateSent.toString()).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric"})}}});const g={key:0},k={class:"email__header"},w={class:"email__subject"},v={class:"note__entry__header__date"},B={class:"email__controls"},$={class:"email__body"};function b(e,r,N,V,A,C){const s=n("Icon"),l=n("AppNetworkError");return e.email?(a(),u("div",g,[t("div",k,[t("div",w,[f(i(e.email.emailSubject)+" ",1),t("p",v,i(e.dateSent),1)]),t("div",B,[e.email.isStarred?(a(),o(s,{key:0,icon:"mdi:star",class:y([e.email.isStarred?"starred__email":"","star"])},null,8,["class"])):(a(),o(s,{key:1,icon:"mdi:star-outline",class:"email",onStarEmail:r[0]||(r[0]=()=>{})})),E(s,{icon:"mdi:trash-can-outline",class:"delete"})])]),t("p",$,i(e.email.emailBody),1)])):(a(),o(l,{key:1}))}const R=p(I,[["render",b],["__scopeId","data-v-2b37946e"]]);export{R as default};
