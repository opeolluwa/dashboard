import{u as l,k as n,l as r,q as i}from"./index.6a4c3616.js";const s=l(),h=n("emailStore",{state:()=>({allEmails:[],trashedEmails:[],draftedEmails:[],starredEmails:[]}),getters:{getInbox:a=>a.allEmails,getEmailById:a=>t=>{var e;return(e=a.allEmails)==null?void 0:e.filter(o=>o.id===String(t))[0]},getStarredEmail:a=>{var t;return(t=a.allEmails)==null?void 0:t.filter(e=>e.isStarred==!0)},getDeletedEmail:a=>{var t;return(t=a.allEmails)==null?void 0:t.filter(e=>e.isStarred==!0)}},actions:{async fetchAllEmails(){const a=s.getAuthToken?s.getAuthToken:await r("authorizationToken");try{const{data:t}=await i.get("/emails?page=1&noOfRows=10",{headers:{Authorization:`Bearer ${a}`}});this.allEmails=t.data.emails}catch(t){console.log(t.message)}},async starEmail(a){try{const t=s.getAuthToken?s.getAuthToken:await r("authorizationToken"),{data:e}=await i.put(`/emails/star/${a}`,{headers:{Authorization:`Bearer ${t}`}});console.log("the note id is ",a),console.log(JSON.stringify(e)),await this.fetchAllEmails()}catch{}}}});export{h as u};
