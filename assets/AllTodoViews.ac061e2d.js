import{d as f,I as T,a5 as P,_ as g,r as d,o as n,y as h,g as B,a1 as q,e as o,f as c,t as k,j as C,v as L,a as E,c as l,p as b,k as N,B as H,S as j,E as z,D as A,J as R,G as I,F as S,H as G}from"./index.2a3ee2fb.js";import{A as J}from"./AppEmptyState.ec2bb136.js";import{u as w}from"./tasks.770516e9.js";let u=!0;const O=f({name:"AppTodoItem",components:{Icon:T,AppListItem:P},data:()=>({}),props:{todo:{type:Object,required:!0,default:()=>({title:"Todo title",description:"Todo description"})}},computed:{isSelected(){return u},priority(){const e=this.todo.priority.toLowerCase().trim();return e==="urgent"?"todo__item--urgent":e==="delicate"?"todo__item--delicate":e==="not-urgent"?"todo__item--not__urgent":e==="important"?"todo__item--important":"todo__item--normal"}},mounted(){const e=document.getElementsByClassName("todo__item"),t=1300;for(const s of e)s.addEventListener("mousedown",function(_){setTimeout(a,t);function a(){u=!1,console.log("long press ",u),s.classList.add("is__selected")}}),s.addEventListener("mouseup",function(_){setTimeout(a,t);function a(){console.log("long press"),s.classList.add("is__selected")}})}});const K={class:"todo__item"},Q={class:"todo__item__header__actions__delete"},U={class:"todo__item__header trim__text"},W={class:"todo__item__header__title"},X={class:"todo__item__content"},Y={class:"trim__text"};function Z(e,t,s,_,a,v){const r=d("Icon"),i=d("AppListItem");return n(),h(i,{class:q(e.priority)},{default:B(()=>[o("div",K,[o("div",Q,[c(r,{icon:"mdi:close-circle-outline",onClick:t[0]||(t[0]=p=>e.$emit("delete-todo"))})]),o("div",null,[o("div",U,[o("div",W,[o("h3",null,k(e.todo.title),1)])]),o("div",X,[o("p",Y,k(e.todo.description),1)])]),C(o("div",{class:"todo__item__header__actions",onClick:t[1]||(t[1]=p=>e.$emit("show-options"))},[c(r,{icon:"mdi:dots-vertical",class:"d-none"})],512),[[L,e.isSelected]])])]),_:1},8,["class"])}const x=g(O,[["render",Z],["__scopeId","data-v-b56cd120"]]),ee=f({name:"AppEmptyState",props:{message:{type:String,default:"There is error in your network connection. Please check your connection and try again."}},components:{BaseButton:E,Icon:T},methods:{refreshPage(){window.location.reload()}}}),oe="/assets/network-error.3fc7fca8.svg";const te=e=>(b("data-v-cec126d1"),e=e(),N(),e),se={class:"network__error"},ne=te(()=>o("img",{src:oe,alt:"empty state"},null,-1)),de=["innerHTML"];function ae(e,t,s,_,a,v){const r=d("Icon"),i=d("BaseButton");return n(),l("div",se,[ne,o("div",null,[o("p",{innerHTML:e.message},null,8,de)]),c(i,{text:"refresh",class:"refresh__button",onClick:e.refreshPage},{default:B(()=>[c(r,{icon:"mdi:refresh"})]),_:1},8,["onClick"])])}const re=g(ee,[["render",ae],["__scopeId","data-v-cec126d1"]]),ie=f({name:"TodoView",components:{BaseButton:E,Icon:T,BaseTextInput:H,AppEmptyState:J,AppTodoItem:x,AppNetworkError:re,Spinner:j},data:()=>({showTodoModal:!1,todo:{title:"",description:"",date:"",priority:""}}),mounted(){console.log("mounted")},created(){this.makeTodoRequest(),console.log("created hook")},methods:{...z(w,{makeTodoRequest:"fetchAllTodo",createTodo:"createTodo",deleteTodo:"deleteTodo"}),async makeCreateTodo(){this.createTodo({...this.todo}),this.showTodoModal=!1},editTodo(e){this.$router.push({name:"edit-todo",params:{noteId:String(e)}})}},computed:{...A(w,["todoArray","isLoading","isFetchingTodoArray","errorFetchingTodo"]),...A(R,{bearerToken:"authorizationToken"}),disabledState(){return this.isLoading===!0}}});const ce=e=>(b("data-v-6e5a26aa"),e=e(),N(),e),_e={class:"fetching__todo"},le=ce(()=>o("p",null,"fetching tasks",-1)),pe={key:1};function me(e,t,s,_,a,v){var y,$;const r=d("Spinner"),i=d("AppEmptyState"),p=d("AppTodoItem");return n(),l(S,null,[C(o("div",_e,[c(r),le],512),[[L,e.isFetchingTodoArray]]),((y=e.todoArray)==null?void 0:y.length)==0?(n(),h(i,{key:0})):I("",!0),Number(($=e.todoArray)==null?void 0:$.length)>0&&!e.isFetchingTodoArray?(n(),l("div",pe,[(n(!0),l(S,null,G(e.todoArray,({title:F,description:V,id:m,priority:D})=>(n(),h(p,{todo:{title:F,description:V,id:m,priority:D},onDeleteTodo:M=>e.deleteTodo(m),onClick:M=>e.editTodo(m)},null,8,["todo","onDeleteTodo","onClick"]))),256))])):I("",!0)],64)}const Te=g(ie,[["render",me],["__scopeId","data-v-6e5a26aa"]]);export{Te as default};
