import{z as r,A as a,b as s}from"./index.01c26d94.js";const n=r(),o=n.getAuthToken,c=a("todoStore",{state:()=>({noteEntries:[],noOfRows:10,pageIndex:1,isLoading:!1,isFetchingEntries:!1,errorFetchingNotes:!1,errorMessage:""}),getters:{getAllTodo:e=>e.noteEntries},actions:{async fetchAllNotes(){this.isLoading=!0;try{const{data:e}=await s.get("/notes?page=1&noOfRows=10",{headers:{Authorization:`Bearer ${o}`}});this.noteEntries=e.data.notes,this.noOfRows=e.data.noOfRows,this.pageIndex=e.DataTransfer.CurrentPage,this.isLoading=!1,console.log(JSON.stringify(e))}catch{this.isLoading=!1}},async createNewEntry(e){r(),this.isLoading=!0;try{const{data:t}=await s.post("/notes",{...e},{headers:{Authorization:`Bearer ${o}`}});return t.success?(this.fetchAllNotes(),this.isLoading=!1,e.title="",e.content="",!0):!1}catch{return this.errorFetchingNotes=!0,this.isLoading=!1,!1}},async deleteNote(e){try{const{data:t}=await s.delete(`/notes/${e}`,{headers:{Authorization:`Bearer ${o}`}});t.success&&this.fetchAllNotes(),console.log("the note id is ",e),console.log(JSON.stringify(t))}catch{}}}});export{c as u};
