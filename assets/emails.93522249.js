import{u as n,k as l,l as r,q as s}from"./index.e76f23a9.js";const o=n(),c=l("emailStore",{state:()=>({allEmails:[],trashedEmails:[],draftedEmails:[],starredEmails:[]}),getters:{getInbox:a=>a.allEmails,getEmailById:a=>t=>{var e;return(e=a.allEmails)==null?void 0:e.filter(i=>i.id===String(t))[0]},getStarredEmail:a=>{var t;return(t=a.allEmails)==null?void 0:t.filter(e=>e.isStarred==!0)},getDeletedEmail:a=>{var t;return(t=a.allEmails)==null?void 0:t.filter(e=>e.isStarred==!0)}},actions:{async fetchAllEmails(){const a=o.getAuthToken?o.getAuthToken:await r("authorizationToken");try{const{data:t}=await s.get("/emails?page=1&noOfRows=10",{headers:{Authorization:`Bearer ${a}`}});this.allEmails=t.data.emails}catch(t){console.log(t.message)}},async starEmail(a){try{const t=o.getAuthToken?o.getAuthToken:await r("authorizationToken"),{data:e}=await s.put(`/emails/star/${a}`,{headers:{Authorization:`Bearer ${t}`}});console.log("the note id is ",a),console.log(JSON.stringify(e)),await this.fetchAllEmails()}catch{}},async unStarEmail(a){try{const t=o.getAuthToken?o.getAuthToken:await r("authorizationToken"),{data:e}=await s.put(`/emails/un-star/${a}`,{headers:{Authorization:`Bearer ${t}`}});console.log("the note id is ",a),console.log(JSON.stringify(e)),await this.fetchAllEmails()}catch{}},async toggleStar(a,t){a===!0?await this.unStarEmail(t):await this.starEmail(t)},async fetchById(a){try{const t=o.getAuthToken?o.getAuthToken:await r("authorizationToken"),{data:e}=await s.get(`/email/${a}`,{headers:{Authorization:`Bearer ${t}`}});return e}catch{}},async deleteNote(a){try{const t=o.getAuthToken?o.getAuthToken:await r("authorizationToken"),{data:e}=await s.delete(`/emails/${a}`,{headers:{Authorization:`Bearer ${t}`}});console.log(JSON.stringify(e))}catch{}}}});export{c as u};
