import{I as y,_ as d,r,o as a,c as m,a as i,t as f,g as p,n as w,b as c,p as I,e as A,d as $,w as b,m as q,h as B,F as v,i as F}from"./index.c56900c7.js";import{A as C}from"./AppNetworkError.a14167d3.js";import{A as R}from"./AppEmptyState.9d1679c7.js";import{u as g}from"./emails.2ede78fb.js";const N={props:{title:{type:String,required:!0,default:"Example title"},content:{type:String,required:!0,default:"This is an example truncated email content..."},isStarred:{type:Boolean,default:!1}},components:{Icon:y},mounted(){}};const V=e=>(I("data-v-29e31c80"),e=e(),A(),e),x={class:"email__item"},L=V(()=>i("input",{type:"checkbox",name:"select",class:""},null,-1)),P={class:"email__content"},j={class:"title"},z={class:"email__controls"};function D(e,o,s,u,_,E){const t=r("Icon");return a(),m("div",x,[L,i("div",P,[i("div",j,f(s.title),1),i("span",{class:"content",onClick:o[0]||(o[0]=l=>e.$emit("preview-email"))},f(s.content),1)]),i("div",z,[i("span",{onClick:o[1]||(o[1]=l=>e.$emit("star-email"))},[s.isStarred?(a(),p(t,{key:0,icon:"mdi:star",class:w([s.isStarred?"starred__email":"","star"])},null,8,["class"])):(a(),p(t,{key:1,icon:"mdi:star-outline",class:"email"}))]),c(t,{icon:"mdi:trash-can-outline",class:"delete"}),c(t,{icon:"mdi:dots-vertical",class:"more-options"})])])}const T=d(N,[["render",D],["__scopeId","data-v-29e31c80"]]),G=$({name:"FavActionButton",components:{Icon:y},props:{route:{type:String,required:!0,default:"404"},icon:{type:String,required:!0,default:"mdi:plus"}}});function H(e,o,s,u,_,E){const t=r("Icon"),l=r("RouterLink");return a(),p(l,{to:{name:e.route},class:"fab"},{default:b(()=>[c(t,{icon:e.icon},null,8,["icon"])]),_:1},8,["to"])}const J=d(G,[["render",H]]),K=$({name:"EmailView",components:{EmailItem:T,Fab:J,AppNetworkError:C,AppEmptyState:R},created(){this.getEmailsRequest()},methods:{...q(g,{getEmailsRequest:"fetchAllEmails",starEmailRequest:"starEmail",toggleEmailStar:"toggleStar"}),previewEmail(e){this.$router.push({name:"preview-email",params:{emailId:e}})},starEmail(e){this.starEmailRequest(e)}},computed:{...B(g,["allEmails"])}});function M(e,o,s,u,_,E){var S;const t=r("AppEmptyState"),l=r("EmailItem"),h=r("Fab");return a(),m(v,null,[((S=e.allEmails)==null?void 0:S.length)==0?(a(),p(t,{key:0})):(a(!0),m(v,{key:1},F(e.allEmails,n=>(a(),m("div",{key:n.id.toString()},[c(l,{title:n.emailSubject.toString(),content:n.emailBody.toString(),"is-starred":n.isStarred,onPreviewEmail:k=>e.previewEmail(n.id.trim().toString()),onStarEmail:k=>e.toggleEmailStar(n.isStarred,n.id.trim().toString())},null,8,["title","content","is-starred","onPreviewEmail","onStarEmail"])]))),128)),c(h,{route:"new-email",icon:"mdi:email-plus-outline"})],64)}const X=d(K,[["render",M]]);export{X as default};
