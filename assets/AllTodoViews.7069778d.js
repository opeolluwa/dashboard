import{d as f,I as T,$ as P,_ as g,r as d,o as n,l as h,g as B,W as q,e as o,f as c,t as k,j as C,v as b,a as L,c as l,p as E,k as N,B as z,S as j,x as H,s as A,A as R,y as I,F as S,z as O}from"./index.679e4c1f.js";import{A as W}from"./AppEmptyState.03179617.js";import{u as w}from"./tasks.18199f5e.js";let u=!0;const x=f({name:"AppTodoItem",components:{Icon:T,AppListItem:P},data:()=>({}),props:{todo:{type:Object,required:!0,default:()=>({title:"Todo title",description:"Todo description"})}},computed:{isSelected(){return u},priority(){const e=this.todo.priority.toLowerCase().trim();return e==="urgent"?"todo__item--urgent":e==="delicate"?"todo__item--delicate":e==="not-urgent"?"todo__item--not__urgent":e==="important"?"todo__item--important":"todo__item--normal"}},mounted(){const e=document.getElementsByClassName("todo__item"),t=1300;for(const s of e)s.addEventListener("mousedown",function(_){setTimeout(r,t);function r(){u=!1,console.log("long press ",u),s.classList.add("is__selected")}}),s.addEventListener("mouseup",function(_){setTimeout(r,t);function r(){console.log("long press"),s.classList.add("is__selected")}})}});const G={class:"todo__item"},J={class:"todo__item__header__actions__delete"},K={class:"todo__item__header trim__text"},Q={class:"todo__item__header__title"},U={class:"todo__item__content"},X={class:"trim__text"};function Y(e,t,s,_,r,v){const i=d("Icon"),a=d("AppListItem");return n(),h(a,{class:q(e.priority)},{default:B(()=>[o("div",G,[o("div",J,[c(i,{icon:"mdi:close-circle-outline",onClick:t[0]||(t[0]=p=>e.$emit("delete-todo"))})]),o("div",null,[o("div",K,[o("div",Q,[o("h3",null,k(e.todo.title),1)])]),o("div",U,[o("p",X,k(e.todo.description),1)])]),C(o("div",{class:"todo__item__header__actions",onClick:t[1]||(t[1]=p=>e.$emit("show-options"))},[c(i,{icon:"mdi:dots-vertical",class:"d-none"})],512),[[b,e.isSelected]])])]),_:1},8,["class"])}const Z=g(x,[["render",Y],["__scopeId","data-v-b56cd120"]]),ee=f({name:"AppEmptyState",props:{message:{type:String,default:"There is error in your network connection. Please check your connection and try again."}},components:{BaseButton:L,Icon:T},methods:{refreshPage(){window.location.reload()}}}),oe="/assets/network-error.3fc7fca8.svg";const te=e=>(E("data-v-cec126d1"),e=e(),N(),e),se={class:"network__error"},ne=te(()=>o("img",{src:oe,alt:"empty state"},null,-1)),de=["innerHTML"];function re(e,t,s,_,r,v){const i=d("Icon"),a=d("BaseButton");return n(),l("div",se,[ne,o("div",null,[o("p",{innerHTML:e.message},null,8,de)]),c(a,{text:"refresh",class:"refresh__button",onClick:e.refreshPage},{default:B(()=>[c(i,{icon:"mdi:refresh"})]),_:1},8,["onClick"])])}const ie=g(ee,[["render",re],["__scopeId","data-v-cec126d1"]]),ae=f({name:"TodoView",components:{BaseButton:L,Icon:T,BaseTextInput:z,AppEmptyState:W,AppTodoItem:Z,AppNetworkError:ie,Spinner:j},data:()=>({showTodoModal:!1,todo:{title:"",description:"",date:"",priority:""}}),mounted(){console.log("mounted")},created(){this.makeTodoRequest(),console.log("created hook")},methods:{...H(w,{makeTodoRequest:"fetchAllTodo",createTodo:"createTodo",deleteTodo:"deleteTodo"}),async makeCreateTodo(){this.createTodo({...this.todo}),this.showTodoModal=!1},editTodo(e){this.$router.push({name:"edit-todo",params:{noteId:String(e)}})}},computed:{...A(w,["todoArray","isLoading","isFetchingTodoArray","errorFetchingTodo"]),...A(R,{bearerToken:"authorizationToken"}),disabledState(){return this.isLoading===!0}}});const ce=e=>(E("data-v-029b11bf"),e=e(),N(),e),_e={class:"fetching__todo"},le=ce(()=>o("p",null,"fetching tasks",-1)),pe={key:1};function me(e,t,s,_,r,v){var y,$;const i=d("Spinner"),a=d("AppEmptyState"),p=d("AppTodoItem");return n(),l(S,null,[C(o("div",_e,[c(i),le],512),[[b,e.isFetchingTodoArray]]),((y=e.todoArray)==null?void 0:y.length)==0?(n(),h(a,{key:0})):I("",!0),Number(($=e.todoArray)==null?void 0:$.length)>0&&!e.isFetchingTodoArray?(n(),l("div",pe,[(n(!0),l(S,null,O(e.todoArray,({title:F,description:V,id:m,priority:D})=>(n(),h(p,{todo:{title:F,description:V,id:m,priority:D},onDeleteTodo:M=>e.deleteTodo(m),onClick:M=>e.editTodo(m)},null,8,["todo","onDeleteTodo","onClick"]))),256))])):I("",!0)],64)}const Te=g(ae,[["render",me],["__scopeId","data-v-029b11bf"]]);export{Te as default};
